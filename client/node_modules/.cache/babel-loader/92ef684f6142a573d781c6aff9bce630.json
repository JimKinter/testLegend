{"ast":null,"code":"import L from 'leaflet';\nimport PropTypes from 'prop-types';\nimport { withLeaflet, MapControl } from 'react-leaflet';\n\nfunction styleInject(css, ref) {\n  if (ref === void 0) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') {\n    return;\n  }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css = \".leaflet-container.crosshair-cursor-enabled {cursor:crosshair;}\";\nstyleInject(css);\n\nvar classCallCheck = function classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar inherits = function inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nvar possibleConstructorReturn = function possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\nvar reactToCSS = require('react-style-object-to-css');\n\nvar coordinatesControlDefaultStyle = {\n  width: '290px',\n  margin: '0',\n  border: '1px solid rgba(0,0,0,0.2)',\n  borderRadius: '4px',\n  backgroundColor: 'rgba(255, 255, 255, 0.7)',\n  outline: 'none',\n  fontSize: '11px',\n  boxShadow: 'none',\n  color: '#333',\n  padding: '2px 2px',\n  minHeight: '18px'\n};\nL.Control.CoordinateControl = L.Control.extend({\n  _style: null,\n  _coordinateButton: null,\n  _coordinates: 'decimal',\n  initialize: function initialize(element) {\n    this.options.position = element.position;\n    this._coordinates = element.coordinates || 'decimal';\n\n    if (element.style === undefined) {\n      this._style = reactToCSS(coordinatesControlDefaultStyle);\n    } else {\n      this._style = reactToCSS(element.style);\n    }\n  },\n  onAdd: function onAdd(map) {\n    var _this = this;\n\n    var coordinateButton = L.DomUtil.create('button');\n    coordinateButton.setAttribute('style', this._style);\n    coordinateButton.setAttribute('id', 'coorindate-control');\n    map.on('mousemove', function (e) {\n      if (_this._coordinates === 'degrees') {\n        coordinateButton.innerHTML = \"<strong>Latitude: </strong>\" + _this.convertDecimalLatToDegrees(e.latlng.lat) + \" <strong>Longitude: </strong> \" + _this.convertDecimalLngToDegrees(e.latlng.lng);\n      } else {\n        var lat = e.latlng.lat.toLocaleString('en-US', {\n          minimumFractionDigits: 8,\n          useGrouping: false\n        });\n        var lng = e.latlng.lng.toLocaleString('en-US', {\n          minimumFractionDigits: 8,\n          useGrouping: false\n        });\n        coordinateButton.innerHTML = \"<strong>Latitude: </strong>\" + lat + \"&nbsp; <strong>Longitude: </strong>\" + lng;\n      }\n    });\n    this._coordinateButton = coordinateButton;\n    return coordinateButton;\n  },\n  convertDecimalLatToDegrees: function convertDecimalLatToDegrees(lat) {\n    var dms = this.convertDDToDMS(lat, false);\n    var dmsDeg = dms.deg.toLocaleString('en-US', {\n      minimumIntegerDigits: 2,\n      useGrouping: false\n    });\n    var dmsMin = dms.min.toLocaleString('en-US', {\n      minimumIntegerDigits: 2,\n      useGrouping: false\n    });\n    var dmsSec = dms.sec.toLocaleString('en-US', {\n      minimumIntegerDigits: 2,\n      minimumFractionDigits: 2,\n      useGrouping: false\n    });\n    var dmsString = dmsDeg + 'º ' + dmsMin + '′ ' + dmsSec + '′′ ' + dms.dir;\n    return dmsString;\n  },\n  convertDecimalLngToDegrees: function convertDecimalLngToDegrees(lng) {\n    var dms = this.convertDDToDMS(lng, true);\n    var dmsDeg = dms.deg.toLocaleString('en-US', {\n      minimumIntegerDigits: 2,\n      useGrouping: false\n    });\n    var dmsMin = dms.min.toLocaleString('en-US', {\n      minimumIntegerDigits: 2,\n      useGrouping: false\n    });\n    var dmsSec = dms.sec.toLocaleString('en-US', {\n      minimumIntegerDigits: 2,\n      minimumFractionDigits: 2,\n      useGrouping: false\n    });\n    var dmsString = dmsDeg + 'º ' + dmsMin + '′ ' + dmsSec + '′′ ' + dms.dir;\n    return dmsString;\n  },\n  convertDDToDMS: function convertDDToDMS(D, lng) {\n    return {\n      dir: D < 0 ? lng ? 'W' : 'S' : lng ? 'E' : 'N',\n      deg: 0 | (D < 0 ? D = -D : D),\n      min: 0 | D % 1 * 60,\n      sec: (0 | D * 60 % 1 * 6000) / 100\n    };\n  }\n});\n\nL.control.coordinateControl = function (opts) {\n  return new L.Control.CoordinateControl(_extends({}, opts));\n};\n\nvar CoordinatesControl = function (_MapControl) {\n  inherits(CoordinatesControl, _MapControl);\n\n  function CoordinatesControl(props) {\n    classCallCheck(this, CoordinatesControl);\n    return possibleConstructorReturn(this, (CoordinatesControl.__proto__ || Object.getPrototypeOf(CoordinatesControl)).call(this, props));\n  }\n\n  createClass(CoordinatesControl, [{\n    key: 'createLeafletElement',\n    value: function createLeafletElement(props) {\n      this.control = L.control.coordinateControl(_extends({}, props));\n      return this.control;\n    }\n  }]);\n  return CoordinatesControl;\n}(MapControl);\n\nvar leafletCoordinates = withLeaflet(CoordinatesControl);\nCoordinatesControl.propTypes = {\n  style: PropTypes.element,\n  coordinates: PropTypes.oneOf(['decimal', 'degrees']),\n  position: PropTypes.oneOf(['topright', 'topleft', 'bottomright', 'bottomleft'])\n};\nexport { leafletCoordinates as CoordinatesControl };","map":null,"metadata":{},"sourceType":"module"}